<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tapoli Retail | Inspired Goods</title>
    <!-- Load Tailwind CSS from CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configure Tailwind for a warm, earthy theme -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'tapoli-primary': '#434674', // Deep Indigo/Slate
                        'tapoli-accent': '#f97316', // Orange-600 for contrast
                        'tapoli-bg': '#f5f5f4',     // Stone-100
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    boxShadow: {
                        'soft': '0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.03)',
                        'xl-soft': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                    }
                }
            }
        }
    </script>

    <!-- CRITICAL: Load React, ReactDOM, and Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
      /* Custom scrollbar for aesthetic */
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #f5f5f4; }
      ::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 10px; }
      ::-webkit-scrollbar-thumb:hover { background: #a8a29e; }
      
      body {
        font-family: 'Inter', sans-serif;
        background-color: #f5f5f4;
      }
      .tapoli-card {
        transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      }
      .tapoli-card:hover {
        transform: translateY(-4px);
      }
      .tapoli-title {
        font-family: 'Playfair Display', serif;
      }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- Application script block -->
    <script type="text/babel">
        const { useState, useEffect, useMemo, createElement, Fragment } = React;
        
        // --- Mock Data with Realistic Image URLs (Simulating actual product photos) ---
        const PRODUCTS = [
            { id: "TPL-001", name: "Artisanal Ceramic Vase", price: 75.00, category: "HOME", rating: 4.9, 
              imageUrl: "https://images.unsplash.com/photo-1549488806-a51b228f4f20?q=80&w=600&h=800&fit=crop&auto=format", 
              material: "Hand-thrown Clay", origin: "Kumasi" },
            
            { id: "TPL-002", name: "Hand-Woven Sisal Basket", price: 35.00, category: "DECOR", rating: 4.5, 
              imageUrl: "https://images.unsplash.com/photo-1558229986-e7e22138139e?q=80&w=600&h=800&fit=crop&auto=format", 
              material: "Natural Sisal Fiber", origin: "Northern Region" },
              
            { id: "TPL-003", name: "Akua'ba Doll Carving", price: 90.00, category: "ART", rating: 5.0, 
              imageUrl: "https://images.unsplash.com/photo-1588665725287-2f3b97b0a32e?q=80&w=600&h=800&fit=crop&auto=format", 
              material: "Sankofa Wood", origin: "Ashanti Region" },
              
            { id: "TPL-006", name: "Kente Cloth Weave (Panel)", price: 180.00, category: "ART", rating: 5.0, 
              imageUrl: "https://images.unsplash.com/photo-1629853920790-259207455d3f?q=80&w=600&h=800&fit=crop&auto=format", 
              material: "Silk & Cotton", origin: "Bonwire" },
            
            { id: "TPL-004", name: "Shea Butter Soap Set", price: 25.00, category: "WELLNESS", rating: 4.7, 
              imageUrl: "https://images.unsplash.com/photo-1600857908992-0692723326cc?q=80&w=600&h=800&fit=crop&auto=format", 
              material: "Organic Shea & Cocoa", origin: "Accra" },
              
            { id: "TPL-005", name: "Indigo Tie-Dye Scarf", price: 55.00, category: "FASHION", rating: 4.8, 
              imageUrl: "https://images.unsplash.com/photo-1546820257-8d077d85c477?q=80&w=600&h=800&fit=crop&auto=format", 
              material: "Pure Cotton", origin: "Volta Region" },
        ];

        const CATEGORIES = ["ALL", "HOME", "DECOR", "ART", "WELLNESS", "FASHION"];

        // --- Utilities ---
        const formatCurrency = (amount) => {
            return new Intl.NumberFormat('en-GH', {
                style: 'currency',
                currency: 'GHS',
                currencyDisplay: 'symbol'
            }).format(amount).replace('GHS', '₵');
        };

        // --- Inline SVG Icon Components (Lucide Icons adapted) ---
        const Icon = ({ path, className, size = 20, stroke = 'currentColor', title = '', fill = 'none', ...props }) => (
            createElement('svg', { 
                xmlns: "http://www.w3.org/2000/svg", 
                width: size, 
                height: size, 
                viewBox: "0 0 24 24", 
                fill: fill, 
                stroke: stroke, 
                strokeWidth: "2", 
                strokeLinecap: "round", 
                strokeLinejoin: "round", 
                className: className, 
                ...props 
            },
                title && createElement('title', null, title),
                path.map((p, i) => createElement('path', { key: i, d: p }))
            )
        );

        const ShoppingCart = (props) => (
            Icon({ path: ["M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z", "M3 6h18", "M16 10a4 4 0 0 1-8 0"], ...props })
        );
        const X = (props) => (
            Icon({ path: ["M18 6 6 18", "m6 6 12 12"], ...props })
        );
        const ChevronRight = (props) => (
            Icon({ path: ["m9 18 6-6-6-6"], size: 16, ...props })
        );
        const Star = (props) => (
            Icon({ path: ["M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.53L12 17.77l-5.82 3.02L7 14.14 2 9.27l6.91-1.01L12 2z"], ...props })
        );
        const MapPin = (props) => (
            Icon({ path: ["M12 22s-8-4.5-8-11.8C4 4.5 7.8 1 12 1c4.2 0 8 3.5 8 9.2S12 22 12 22z", "M12 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"], ...props })
        );
        const Truck = (props) => (
            Icon({ path: ["M10 17H5a2 2 0 0 1-2-2V9h18v6a2 2 0 0 1-2 2h-5m-7 0v2h4v-2", "M18 10h3v4h-3", "M7 17v2h4v-2"], ...props })
        );
        const CreditCard = (props) => (
            Icon({ path: ["M1 4h22v16H1z", "M1 10h22"], ...props })
        );
        const Menu = (props) => (
            Icon({ path: ["M3 12h18", "M3 6h18", "M3 18h18"], ...props })
        );
        const Home = (props) => (
            Icon({ path: ["m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z", "M9 22V12h6v10"], ...props })
        );

        const generateStarRating = (rating) => {
            const fullStars = Math.floor(rating);
            const stars = [];
            for (let i = 0; i < fullStars; i++) {
                stars.push(createElement(Star, { key: `star-${i}`, size: 14, className: "text-tapoli-accent", fill: 'currentColor' }));
            }
            while (stars.length < 5) {
                stars.push(createElement(Star, { key: `star-${stars.length}`, size: 14, className: "text-gray-300", fill: 'none', stroke: 'currentColor' }));
            }
            // Returning the array directly as JSX children
            return stars;
        };

        // --- Components ---
        
        const Button = ({ children, variant = 'primary', className = '', onClick, icon: Icon, disabled = false, ...props }) => {
            const baseStyle = "group relative flex items-center justify-center gap-2 px-6 py-3 font-medium text-sm rounded-lg transition-all duration-300 active:translate-y-0.5 shadow-soft disabled:opacity-50 disabled:cursor-not-allowed";
            
            const variants = {
                primary: "bg-tapoli-accent text-white hover:bg-orange-700 focus:ring-4 focus:ring-orange-300",
                secondary: "bg-tapoli-primary text-white hover:bg-tapoli-primary/90 focus:ring-4 focus:ring-tapoli-primary/50",
                ghost: "bg-transparent text-tapoli-primary hover:bg-gray-100 shadow-none",
            };

            return createElement('button', { 
                className: `${baseStyle} ${variants[variant]} ${className}`, 
                onClick: onClick, 
                disabled: disabled,
                ...props 
            }, 
                Icon && createElement(Icon, { size: 16, fill: variant === 'primary' || variant === 'secondary' ? 'white' : 'none' }),
                children
            );
        };

        const ProductCard = ({ product, onViewDetails, onAddToCart }) => {
            return (
                <div className="tapoli-card bg-white rounded-xl shadow-soft overflow-hidden flex flex-col cursor-pointer">
                    <div onClick={() => onViewDetails(product)} className="relative aspect-[3/4] overflow-hidden bg-stone-100">
                        <img 
                            src={product.imageUrl}
                            alt={product.name}
                            className="object-cover w-full h-full transition-transform duration-500 hover:scale-105"
                            onError={(e) => {
                                // Fallback image if the actual URL fails
                                e.target.onerror = null; 
                                e.target.src = 'https://placehold.co/600x800/434674/ffffff?text=Image+Unavailable';
                                e.target.className = "object-contain w-full h-full p-4 text-center text-sm font-semibold";
                            }}
                        />
                        <div className="absolute top-3 right-3 p-1.5 bg-white rounded-full shadow-md text-sm font-semibold text-gray-700">
                            {formatCurrency(product.price)}
                        </div>
                    </div>
                    <div className="p-4 flex flex-col flex-1">
                        <h3 
                            onClick={() => onViewDetails(product)} 
                            className="tapoli-title text-xl font-bold text-tapoli-primary hover:text-tapoli-accent transition-colors mb-2" 
                        >
                            {product.name}
                        </h3>
                        <div className="flex items-center gap-1 mb-3">
                            {generateStarRating(product.rating)}
                            <span className="text-xs text-gray-500 ml-1">{`(${product.rating})`}</span>
                        </div>
                        <Button
                            variant="secondary"
                            className="mt-auto py-2 text-xs uppercase tracking-wider"
                            onClick={() => onAddToCart(product)}
                            icon={ShoppingCart}
                        >
                            Add to Basket
                        </Button>
                    </div>
                </div>
            );
        };

        const Toast = ({ show, message, onClose }) => {
            if (!show) return null;
            return (
                <div className="fixed bottom-4 left-1/2 -translate-x-1/2 z-50 transition-opacity duration-300 ease-out animate-fade-in">
                    <div className="bg-tapoli-primary text-white px-6 py-3 rounded-full shadow-xl-soft flex items-center gap-3 min-w-[300px]">
                        <ShoppingCart size={20} className="text-tapoli-accent" fill='white' />
                        <p className="text-sm font-medium">{message}</p>
                        <button onClick={onClose} className="text-gray-300 hover:text-white ml-auto">
                            <X size={16} stroke='white' />
                        </button>
                    </div>
                </div>
            );
        };
        
        // --- Main App ---

        function App() {
            const [view, setView] = useState('home'); 
            const [activeProduct, setActiveProduct] = useState(null);
            const [cart, setCart] = useState([]);
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [selectedCategory, setSelectedCategory] = useState("ALL");
            const [toast, setToast] = useState({ show: false, message: '' });

            const cartCount = useMemo(() => cart.reduce((sum, item) => sum + item.quantity, 0), [cart]);
            const cartTotal = useMemo(() => cart.reduce((sum, item) => sum + (item.price * item.quantity), 0), [cart]);

            const showToast = (message) => {
                setToast({ show: true, message });
                setTimeout(() => setToast({ show: false, message: '' }), 3000);
            };

            const filteredProducts = useMemo(() => {
                return PRODUCTS.filter(p => selectedCategory === "ALL" || p.category === selectedCategory);
            }, [selectedCategory]);

            const addToCart = (product, quantity = 1) => {
                setCart(prev => {
                    const existing = prev.find(item => item.id === product.id);
                    if (existing) {
                        return prev.map(item => item.id === product.id ? { ...item, quantity: item.quantity + quantity } : item);
                    }
                    return [...prev, { ...product, quantity }];
                });
                showToast(`${product.name} added to basket.`);
            };

            const removeFromCart = (id) => setCart(prev => prev.filter(item => item.id !== id));
            
            const updateQuantity = (id, change) => {
                setCart(prevCart => prevCart.map(item => {
                    if (item.id === id) {
                        const newQuantity = item.quantity + change;
                        return newQuantity > 0 ? { ...item, quantity: newQuantity } : null;
                    }
                    return item;
                }).filter(Boolean));
            };

            const navigateToProduct = (product) => {
                setActiveProduct(product);
                setView('product');
                window.scrollTo(0, 0);
            };

            // --- Layout Components ---

            const Navbar = () => (
                <nav className="sticky top-0 z-40 bg-white/95 backdrop-blur-sm shadow-soft border-b border-gray-100">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="flex items-center justify-between h-20">
                            <div className="flex-shrink-0 cursor-pointer" onClick={() => setView('home')}>
                                <span className="tapoli-title text-3xl font-bold text-tapoli-primary">Tapoli</span>
                                <span className="text-sm text-tapoli-accent ml-1">GH</span>
                            </div>
                            <div className="hidden md:block">
                                <div className="flex items-center space-x-4">
                                    {CATEGORIES.slice(1).map(cat => (
                                        <a 
                                            key={cat}
                                            href="#"
                                            onClick={(e) => { e.preventDefault(); setSelectedCategory(cat); setView('home'); }}
                                            className={`px-3 py-2 text-sm font-medium rounded-md transition-colors ${selectedCategory === cat ? 'text-tapoli-accent bg-orange-50' : 'text-gray-700 hover:text-tapoli-accent hover:bg-gray-100'}`}
                                        >
                                            {cat}
                                        </a>
                                    ))}
                                </div>
                            </div>
                            <div className="flex items-center gap-4">
                                <button
                                    className="p-2 rounded-full text-gray-600 hover:text-tapoli-accent hover:bg-gray-100 transition-colors relative"
                                    onClick={() => setIsCartOpen(true)}
                                    title="View Basket"
                                >
                                    <ShoppingCart size={24} />
                                    {cartCount > 0 && 
                                    <span className="absolute top-0 right-0 inline-flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-tapoli-accent rounded-full border-2 border-white">{cartCount}</span>}
                                </button>
                            </div>
                        </div>
                    </div>
                </nav>
            );

            const CartDrawer = () => (
                <div className={`fixed inset-0 z-50 overflow-hidden ${isCartOpen ? '' : 'pointer-events-none'}`}>
                    <div
                        className={`absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 ${isCartOpen ? 'opacity-100' : 'opacity-0'}`}
                        onClick={() => setIsCartOpen(false)}
                    />
                    <div className={`absolute inset-y-0 right-0 max-w-md w-full flex pl-10 transform transition-transform duration-300 ${isCartOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                        <div className="w-full flex flex-col h-full bg-white shadow-xl">
                            <div className="flex items-center justify-between px-6 py-5 border-b border-gray-100 bg-stone-50">
                                <h2 className="text-xl tapoli-title font-bold text-tapoli-primary">{`Shopping Basket (${cartCount})`}</h2>
                                <button onClick={() => setIsCartOpen(false)} className="text-gray-400 hover:text-tapoli-accent p-2">
                                    <X size={24} />
                                </button>
                            </div>
                            <div className="flex-1 overflow-y-auto p-6">
                                {cart.length === 0 ? (
                                    <div className="h-full flex flex-col items-center justify-center text-center space-y-4 text-gray-500">
                                        <ShoppingCart size={36} className="opacity-50" />
                                        <p className="text-sm">Your basket is empty. Find your next treasure!</p>
                                        <Button variant="ghost" onClick={() => setIsCartOpen(false)}>Browse Products</Button>
                                    </div>
                                ) : (
                                    <div className="space-y-4">
                                        {cart.map(item => (
                                            <div key={item.id} className="py-3 flex border-b border-dashed border-gray-100 last:border-b-0">
                                                <div className="flex-shrink-0 w-20 h-20 bg-stone-100 rounded-lg overflow-hidden border border-gray-200">
                                                    <img
                                                        src={item.imageUrl}
                                                        alt={item.name}
                                                        className="object-cover w-full h-full"
                                                        onError={(e) => {
                                                            e.target.onerror = null; 
                                                            e.target.src = 'https://placehold.co/80x80/434674/ffffff?text=X';
                                                            e.target.className = "object-contain w-full h-full p-2 text-center text-xs font-semibold";
                                                        }}
                                                    />
                                                </div>
                                                <div className="ml-4 flex-1 flex flex-col justify-between">
                                                    <div className="flex justify-between items-start">
                                                        <h3 className="text-sm font-semibold text-tapoli-primary hover:text-tapoli-accent">{item.name}</h3>
                                                        <p className="text-sm font-medium text-gray-900">{formatCurrency(item.price * item.quantity)}</p>
                                                    </div>
                                                    <div className="flex items-center justify-between mt-2">
                                                        <div className="flex items-center space-x-2 border border-gray-200 rounded-lg">
                                                            <button onClick={() => updateQuantity(item.id, -1)} className="p-1.5 text-gray-500 hover:text-tapoli-accent hover:bg-stone-50 rounded-l-lg text-sm transition-colors">–</button>
                                                            <span className="text-sm font-medium w-4 text-center">{item.quantity}</span>
                                                            <button onClick={() => updateQuantity(item.id, 1)} className="p-1.5 text-gray-500 hover:text-tapoli-accent hover:bg-stone-50 rounded-r-lg text-sm transition-colors">+</button>
                                                        </div>
                                                        <button type="button" onClick={() => removeFromCart(item.id)} className="text-xs font-medium text-red-500 hover:text-red-700">Remove</button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                            {cart.length > 0 &&
                            <div className="border-t border-gray-200 px-6 py-6 bg-stone-50">
                                <div className="flex justify-between text-base font-bold text-gray-900 mb-4">
                                    <p>Total</p>
                                    <p className="text-tapoli-accent text-xl">{formatCurrency(cartTotal)}</p>
                                </div>
                                <Button
                                    variant="primary"
                                    className="w-full py-3 text-lg font-semibold"
                                    onClick={() => { setIsCartOpen(false); setView('checkout'); }}
                                >
                                    Checkout Securely
                                </Button>
                            </div>}
                        </div>
                    </div>
                </div>
            );

            const HeroVisual = () => (
                <div className="relative mx-auto w-full max-w-lg shadow-xl-soft rounded-2xl overflow-hidden aspect-square bg-stone-100">
                    <img 
                        src='https://images.unsplash.com/photo-1594165620958-36a8369b76c8?q=80&w=800&h=800&fit=crop&auto=format'
                        alt='Featured Handcrafted Goods'
                        className="object-cover w-full h-full"
                        onError={(e) => {
                            e.target.onerror = null; 
                            e.target.src = 'https://placehold.co/600x800/434674/ffffff?text=Image+Unavailable';
                            e.target.className = "object-contain w-full h-full p-8 text-center text-sm font-semibold";
                        }}
                    />
                </div>
            );

            const HeroSection = () => (
                <div className="relative bg-stone-50 overflow-hidden pt-10 pb-20 sm:pt-16 sm:pb-32">
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div className="lg:grid lg:grid-cols-12 lg:gap-16 items-center">
                            <div className="sm:text-center md:max-w-2xl md:mx-auto lg:col-span-6 lg:text-left">
                                <p className="text-sm font-semibold uppercase tracking-wider text-tapoli-accent mb-3">The Art of Living</p>
                                <h1 className="tapoli-title text-5xl sm:text-6xl font-extrabold tracking-tight text-tapoli-primary mb-6">
                                    Handcrafted 
                                    <span className="text-tapoli-accent"> Goods</span>
                                    {" "}from Ghana.
                                </h1>
                                <p className="mt-4 text-lg text-gray-600 max-w-lg">Tapoli connects you directly with the artisans who create unique, sustainable, and soulful home decor, art, and fashion.</p>
                                <div className="mt-10 flex flex-col sm:flex-row gap-4">
                                    <Button 
                                        variant="primary" 
                                        onClick={() => document.getElementById('product-list').scrollIntoView({ behavior: 'smooth' })}
                                        className="py-3.5 text-base"
                                    >
                                        Explore Collection
                                    </Button>
                                    <Button variant="secondary" onClick={() => setView('about')} className="py-3.5 text-base">Our Story</Button>
                                </div>
                            </div>
                            <div className="mt-12 lg:mt-0 lg:col-span-6 relative">
                                <HeroVisual />
                            </div>
                        </div>
                    </div>
                </div>
            );

            const ProductListView = () => (
                <div id="product-list" className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                    <div className="flex flex-col md:flex-row md:items-center md:justify-between mb-10 gap-4">
                        <div>
                            <h2 className="tapoli-title text-3xl font-bold text-tapoli-primary">Featured Items</h2>
                            <p className="text-base text-gray-500">From the hands of Ghanaian masters to your home.</p>
                        </div>
                        <div className="flex flex-wrap gap-2">
                            {CATEGORIES.map(cat =>
                                <button
                                    key={cat}
                                    onClick={() => setSelectedCategory(cat)}
                                    className={`px-4 py-2 text-sm font-semibold rounded-full transition-all border ${
                                        selectedCategory === cat
                                            ? 'bg-tapoli-accent text-white border-tapoli-accent'
                                            : 'bg-white text-gray-700 border-gray-300 hover:bg-stone-50'
                                    }`}
                                >
                                    {cat}
                                </button>
                            )}
                        </div>
                    </div>
                    {filteredProducts.length === 0 ? (
                        <div className="text-center py-20 bg-white rounded-xl shadow-inner border border-gray-100">
                            <ShoppingCart size={40} className="mx-auto text-gray-300 mb-4" />
                            <p className="text-lg font-semibold text-gray-700">No items in this category.</p>
                            <Button variant="ghost" onClick={() => setSelectedCategory('ALL')} className="mt-4">View All Products</Button>
                        </div>
                    ) : (
                        <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 lg:gap-8">
                            {filteredProducts.map(product =>
                                <ProductCard
                                    key={product.id}
                                    product={product}
                                    onViewDetails={navigateToProduct}
                                    onAddToCart={addToCart}
                                />
                            )}
                        </div>
                    )}
                </div>
            );
            
            const ProductDetailView = () => {
                const product = activeProduct;
                if (!product) return null;
                
                return (
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                        <button onClick={() => setView('home')} className="text-sm text-gray-500 hover:text-tapoli-accent flex items-center mb-6">
                            <ChevronRight className="rotate-180 mr-1" />
                            Back to Shop
                        </button>
                        <div className="lg:grid lg:grid-cols-2 lg:gap-12 bg-white rounded-xl shadow-xl-soft p-6 md:p-10">
                            <div className="lg:col-span-1">
                                <div className="relative aspect-[3/4] bg-stone-100 rounded-lg overflow-hidden">
                                    <img
                                        src={product.imageUrl}
                                        alt={product.name}
                                        className="object-cover w-full h-full"
                                        onError={(e) => {
                                            e.target.onerror = null; 
                                            e.target.src = 'https://placehold.co/600x800/434674/ffffff?text=Image+Unavailable';
                                            e.target.className = "object-contain w-full h-full p-8 text-center text-lg font-semibold";
                                        }}
                                    />
                                </div>
                            </div>
                            <div className="lg:col-span-1 mt-8 lg:mt-0 flex flex-col">
                                <p className="text-xs font-semibold uppercase text-tapoli-accent mb-2">{product.category}</p>
                                <h1 className="tapoli-title text-4xl font-extrabold text-tapoli-primary mb-3">{product.name}</h1>
                                <div className="flex items-center gap-2 mb-6">
                                    <div className="flex items-center">{generateStarRating(product.rating)}</div>
                                    <span className="text-sm text-gray-500">{`${product.rating} Rating`}</span>
                                </div>
                                
                                <div className="my-4 py-4 border-t border-b border-gray-100">
                                    <span className="text-4xl font-bold text-tapoli-accent">{formatCurrency(product.price)}</span>
                                </div>

                                <div className="space-y-4 text-gray-700 mb-8">
                                    <h2 className="text-lg font-semibold text-tapoli-primary">Details</h2>
                                    <p className="text-base leading-relaxed">{`A genuine piece crafted from ${product.material}. This item embodies the spirit and skill of artisans from the ${product.origin} region.`}</p>
                                    <ul className="text-sm space-y-2 pt-2">
                                        <li className="flex items-center gap-3">
                                            <Home size={16} className="text-tapoli-primary" />
                                            <span>{`Category: ${product.category}`}</span>
                                        </li>
                                        <li className="flex items-center gap-3">
                                            <MapPin size={16} className="text-tapoli-primary" />
                                            <span>{`Origin: ${product.origin}`}</span>
                                        </li>
                                        <li className="flex items-center gap-3">
                                            <Truck size={16} className="text-tapoli-primary" />
                                            <span>Ships within 2-3 business days</span>
                                        </li>
                                    </ul>
                                </div>
                                
                                <Button
                                    variant="primary"
                                    className="w-full py-3 text-lg font-semibold"
                                    onClick={() => addToCart(product)}
                                    icon={ShoppingCart}
                                >
                                    Add to Basket
                                </Button>
                            </div>
                        </div>
                    </div>
                );
            };

            const AboutView = () => (
                <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                    <button onClick={() => setView('home')} className="text-sm text-gray-500 hover:text-tapoli-accent flex items-center mb-6">
                        <ChevronRight className="rotate-180 mr-1" />
                        Back to Shop
                    </button>
                    <div className="bg-white p-8 md:p-12 rounded-xl shadow-xl-soft space-y-8">
                        <h1 className="tapoli-title text-4xl font-extrabold text-tapoli-primary">Our Story: The Soul of Tapoli</h1>
                        
                        <div className="space-y-4 text-gray-700 text-lg">
                            <p>Tapoli is more than just a retail platform; it is a bridge connecting the world to the deep tradition and exquisite craftsmanship of Ghanaian artisans. We believe in ethical sourcing, sustainable practices, and fair trade, ensuring that every purchase directly supports the artists and their communities.</p>
                            <p>The name 'Tapoli' itself is a nod to West African heritage, representing the tools and the process of creation. Our curated collection celebrates the rich cultural heritage, from the bold patterns of Kente cloth to the intricate carvings of the Ashanti region. Each item tells a story—a story of skill, legacy, and passion.</p>
                            <p>Thank you for being part of this journey. By choosing Tapoli, you are choosing authenticity, quality, and empowerment.</p>
                        </div>
                        <div className="pt-4 border-t border-gray-100 flex justify-center">
                            <Button variant="primary" onClick={() => setView('home')}>Start Shopping</Button>
                        </div>
                    </div>
                </div>
            );

            const CheckoutView = () => (
                <div className="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                    <div className="bg-white p-8 md:p-12 rounded-xl shadow-xl-soft space-y-8">
                        <h1 className="tapoli-title text-4xl font-extrabold text-tapoli-primary mb-6">Checkout (Simulated)</h1>
                        
                        <div className="border border-tapoli-accent/50 bg-tapoli-accent/5 p-4 rounded-lg flex items-center gap-4">
                            <CreditCard size={28} className="text-tapoli-accent" />
                            <p className="font-semibold text-gray-800">{`Order Total: ${formatCurrency(cartTotal)}`}</p>
                        </div>
                        
                        <div className="space-y-4">
                            <h2 className="text-xl font-semibold text-tapoli-primary">Order Summary</h2>
                            {cart.map(item => (
                                <div key={item.id} className="flex justify-between text-sm text-gray-600">
                                    <span>{`${item.quantity} x ${item.name}`}</span>
                                    <span className="font-medium">{formatCurrency(item.price * item.quantity)}</span>
                                </div>
                            ))}
                        </div>
                        
                        <div className="pt-6 border-t border-gray-100">
                            <Button
                                variant="primary"
                                className="w-full py-3 text-lg font-semibold"
                                disabled={cart.length === 0}
                                onClick={() => {
                                    setCart([]);
                                    showToast("Order Placed! Thank you for supporting our artisans.");
                                    setView('home');
                                }}
                            >
                                Place Order Now
                            </Button>
                        </div>
                        
                        <Button
                            variant="ghost"
                            className="w-full"
                            onClick={() => setView('home')}
                        >
                            Continue Shopping
                        </Button>
                    </div>
                </div>
            );
            
            // --- Router Logic ---

            let content;
            if (view === 'product') {
                content = <ProductDetailView />;
            } else if (view === 'about') {
                content = <AboutView />;
            } else if (view === 'checkout') {
                content = <CheckoutView />;
            } else {
                content = <Fragment>
                    <HeroSection />
                    <ProductListView />
                </Fragment>;
            }

            return (
                <Fragment>
                    <Navbar />
                    {content}
                    <CartDrawer />
                    <Toast show={toast.show} message={toast.message} onClose={() => setToast({ show: false, message: '' })} />
                </Fragment>
            );
        }

        // Render the App using the modern React 18 API
        function renderApp() {
            const container = document.getElementById('root');
            if (container) {
                const root = ReactDOM.createRoot(container);
                root.render(<App />);
            } else {
                console.error("Root element not found in DOM.");
            }
        }

        window.addEventListener('load', renderApp);

    </script>
</body>
</html>
